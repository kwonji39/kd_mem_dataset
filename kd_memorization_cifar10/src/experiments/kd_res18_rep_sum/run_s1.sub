#!/bin/bash

#SBATCH -A rajivak-h
#SBATCH --time 06:00:00
#SBATCH --nodes=1 --gpus-per-node=1 --cpus-per-task=1
#SBATCH --job-name exp_s1_r2
#SBATCH --output=exp_s1_r2.out
#SBATCH --error=exp_s1_r2.out
#SBATCH --mem-per-cpu=100000

# python3 train_resnet50.py res50 ../../temp/subset_0-0.1.csv ../../temp --cuda-num 0
# python3 cuda_test.py
# python3 train_resnet50.py res50 ../../temp/subset_1000.csv ../../temp --cuda-num 0
# python3 train_resnet50.py res50 ../../temp --cuda-num 0
# python3 train_resnet50.py res50 ../../temp --cuda-num 0 &> exp.out
# python3 train_s1.py resnet18 "/home/kwon/cs590_sp24/d/kd_memorization/src/temp/subset_0-0.1.csv" "/home/kwon/cs590_sp24/d/kd_memorization/src/temp" "/home/kwon/cs590_sp24/d/kd_memorization/src/temp/resnet50_20240415-150808/checkpoints/2/model.pth" --cuda-num 0 --num-workers 2 --reduce_s 1 --drop 0.2 --drop_epoch 30


python3 train_s1.py resnet18 "/scratch/gilbreth/kwon165/kd_/kd_memorization/src/temp/subset_0-0.1.csv" "/scratch/gilbreth/kwon165/kd_/kd_memorization/src/temp" "/scratch/gilbreth/kwon165/kd_/kd_memorization/src/temp/res50_20240421-011017/checkpoints/200/model.pth" --cuda-num 0 --num-workers 2 --reduce_s 8 --drop 0.2 --drop_epoch 30